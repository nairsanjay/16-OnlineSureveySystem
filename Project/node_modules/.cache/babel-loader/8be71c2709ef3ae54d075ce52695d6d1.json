{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sanja\\\\Documents\\\\GitHub\\\\OnlineSureveySystem\\\\Project\\\\src\\\\Components\\\\Form\\\\EditForm.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Grid } from '@material-ui/core';\nimport { Paper, Typography } from '@material-ui/core';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Box from '@material-ui/core/Box';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport MoreIcon from '@material-ui/icons/MoreVert';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport PaletteIcon from '@material-ui/icons/Palette';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport SendIcon from '@material-ui/icons/Send';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport FilterNoneIcon from '@material-ui/icons/FilterNone';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\nimport ViewListIcon from '@material-ui/icons/ViewList';\nimport QuestionsTab from './QuestionsTab';\nimport ResponseTab from '../Response/ResponseTab';\nimport formService from '../../services/formService';\nimport auth from '../../services/authService';\nimport { useHistory } from \"react-router-dom\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1\n  },\n  menuButton: {\n    marginRight: theme.spacing(2)\n  },\n  toolbar: {\n    minHeight: 128,\n    alignItems: 'flex-start',\n    paddingTop: theme.spacing(1) //paddingBottom: theme.spacing(2),\n\n  },\n  title: {\n    flexGrow: 1,\n    alignSelf: 'flex-end',\n    justifySelf: 'center'\n  },\n  paper: {\n    padding: theme.spacing(2),\n    color: theme.palette.text.secondary,\n    display: 'flex',\n    alignContent: 'space-between',\n    alignItems: 'center'\n  }\n}));\n\nfunction EditForm(props) {\n  const classes = useStyles();\n  const [value, setValue] = React.useState(0);\n  const [open, setOpen] = React.useState(false);\n  const [user, setUser] = React.useState({});\n  const [formID, setFormID] = React.useState(\"\");\n  let history = useHistory();\n  const [formDeatils, setFormDetails] = React.useState({});\n  const [openOfAlert, setOpenOfAlert] = React.useState(false);\n  React.useEffect(() => {\n    setUser(auth.getCurrentUser);\n  }, []);\n\n  const clipToClipboard = () => {\n    navigator.clipboard.writeText(window.location.origin + \"/s/\" + formDeatils._id);\n    handleClickOfAlert();\n    handleClose();\n  };\n\n  const handletmp = () => {\n    history.push(\"/\");\n  };\n\n  const handleClickOfAlert = () => {\n    setOpenOfAlert(true);\n  };\n\n  const handleCloseOfAlert = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setOpenOfAlert(false);\n  };\n\n  function sendForm() {\n    handleClickOpen();\n  }\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  React.useEffect(() => {\n    var formId = props.match.params.formId;\n\n    if (formId !== undefined) {\n      setFormID(formId);\n      formService.getForm(formId).then(data => {\n        // console.log(data);     \n        setFormDetails(data);\n      }, error => {\n        const resMessage = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n        console.log(resMessage);\n      });\n    }\n  }, [props.match.params.formId]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 9\n    }\n  }, formDeatils.createdBy === user.id ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(AppBar, {\n    position: \"static\",\n    style: {\n      backgroundColor: 'white'\n    },\n    elevation: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Toolbar, {\n    className: classes.toolbar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    edge: \"start\",\n    className: classes.menuButton,\n    \"aria-label\": \"tmp\",\n    style: {\n      color: '#140078'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(ViewListIcon, {\n    onClick: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    noWrap: true,\n    style: {\n      marginTop: '8.5px',\n      color: 'black'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 21\n    }\n  }, formDeatils.name), /*#__PURE__*/React.createElement(Tabs, {\n    className: classes.title,\n    value: value,\n    onChange: handleChange,\n    indicatorColor: \"primary\",\n    textColor: \"primary\",\n    centered: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Tab, {\n    label: \"Questions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Tab, {\n    label: \"Responses\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(IconButton, {\n    \"aria-label\": \"search\",\n    onClick: sendForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(SendIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 25\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Dialog, {\n    open: open,\n    onClose: handleClose,\n    \"aria-labelledby\": \"alert-dialog-title\",\n    \"aria-describedby\": \"alert-dialog-description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    id: \"alert-dialog-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 15\n    }\n  }, \"Copy and share link.\"), /*#__PURE__*/React.createElement(DialogContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Paper, {\n    className: classes.paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    alignContent: \"space-between\",\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 27\n    }\n  }, window.location.origin + \"/s/\" + formDeatils._id)), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    className: classes.button,\n    \"aria-label\": \"Add\",\n    size: \"medium\",\n    onClick: clipToClipboard,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(FilterNoneIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 124\n    }\n  }))))), /*#__PURE__*/React.createElement(DialogContentText, {\n    id: \"alert-dialog-description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleClose,\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 17\n    }\n  }, \"Cancel\"))), /*#__PURE__*/React.createElement(Snackbar, {\n    anchorOrigin: {\n      vertical: 'bottom',\n      horizontal: 'left'\n    },\n    open: openOfAlert,\n    autoHideDuration: 3000,\n    onClose: handleCloseOfAlert,\n    message: \"Copied to clipboard\",\n    action: /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      size: \"small\",\n      \"aria-label\": \"close\",\n      color: \"inherit\",\n      onClick: handleCloseOfAlert,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(CloseIcon, {\n      fontSize: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 21\n      }\n    }))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TabPanel, {\n    value: value,\n    index: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(QuestionsTab, {\n    formData: formDeatils,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(TabPanel, {\n    value: value,\n    index: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ResponseTab, {\n    formData: formDeatils,\n    formId: formID,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 17\n    }\n  })))) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 13\n    }\n  }, \"you're not the owner of the form\"));\n}\n\nexport default EditForm;\n\nfunction TabPanel(props) {\n  const {\n    children,\n    value,\n    index,\n    ...other\n  } = props;\n  return /*#__PURE__*/React.createElement(\"div\", Object.assign({\n    role: \"tabpanel\",\n    hidden: value !== index,\n    id: `simple-tabpanel-${index}`,\n    \"aria-labelledby\": `simple-tab-${index}`\n  }, other, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 7\n    }\n  }), value === index && /*#__PURE__*/React.createElement(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 13\n    }\n  }, children)));\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired\n}; // function a11yProps(index) {\n//   return {\n//     id: `simple-tab-${index}`,\n//     'aria-controls': `simple-tabpanel-${index}`,\n//   };\n// }","map":{"version":3,"sources":["C:/Users/sanja/Documents/GitHub/OnlineSureveySystem/Project/src/Components/Form/EditForm.js"],"names":["React","PropTypes","makeStyles","Grid","Paper","Typography","Tabs","Tab","Box","AppBar","Toolbar","MoreIcon","SettingsIcon","VisibilityIcon","PaletteIcon","AccountCircleIcon","SendIcon","Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","FilterNoneIcon","Snackbar","IconButton","CloseIcon","StarBorderIcon","ViewListIcon","QuestionsTab","ResponseTab","formService","auth","useHistory","useStyles","theme","root","flexGrow","menuButton","marginRight","spacing","toolbar","minHeight","alignItems","paddingTop","title","alignSelf","justifySelf","paper","padding","color","palette","text","secondary","display","alignContent","EditForm","props","classes","value","setValue","useState","open","setOpen","user","setUser","formID","setFormID","history","formDeatils","setFormDetails","openOfAlert","setOpenOfAlert","useEffect","getCurrentUser","clipToClipboard","navigator","clipboard","writeText","window","location","origin","_id","handleClickOfAlert","handleClose","handletmp","push","handleCloseOfAlert","event","reason","sendForm","handleClickOpen","handleChange","newValue","formId","match","params","undefined","getForm","then","data","error","resMessage","response","message","toString","console","log","createdBy","id","backgroundColor","marginTop","name","button","vertical","horizontal","TabPanel","children","index","other","propTypes","node","any","isRequired"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,SAASC,UAAT,QAA2B,0BAA3B;AACA,SAAQC,IAAR,QAAmB,mBAAnB;AAEA,SAASC,KAAT,EAAgBC,UAAhB,QAAkC,mBAAlC;AAEA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,GAAP,MAAgB,uBAAhB;AACA,OAAOC,GAAP,MAAgB,uBAAhB;AAEA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,OAAP,MAAoB,2BAApB;AACA,OAAOC,QAAP,MAAqB,6BAArB;AACA,OAAOC,YAAP,MAAyB,6BAAzB;AACA,OAAOC,cAAP,MAA2B,+BAA3B;AACA,OAAOC,WAAP,MAAwB,4BAAxB;AACA,OAAOC,iBAAP,MAA8B,kCAA9B;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,iBAAP,MAA8B,qCAA9B;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,cAAP,MAA2B,+BAA3B;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AAEA,OAAOC,cAAP,MAA2B,+BAA3B;AAEA,OAAOC,YAAP,MAAyB,6BAAzB;AAEA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,WAAP,MAAwB,yBAAxB;AACA,OAAOC,WAAP,MAAwB,4BAAxB;AACA,OAAOC,IAAP,MAAiB,4BAAjB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AAGA,MAAMC,SAAS,GAAGhC,UAAU,CAAEiC,KAAD,KAAY;AACrCC,EAAAA,IAAI,EAAE;AACJC,IAAAA,QAAQ,EAAE;AADN,GAD+B;AAIrCC,EAAAA,UAAU,EAAE;AACVC,IAAAA,WAAW,EAAEJ,KAAK,CAACK,OAAN,CAAc,CAAd;AADH,GAJyB;AAOrCC,EAAAA,OAAO,EAAE;AACPC,IAAAA,SAAS,EAAE,GADJ;AAEPC,IAAAA,UAAU,EAAE,YAFL;AAGPC,IAAAA,UAAU,EAAET,KAAK,CAACK,OAAN,CAAc,CAAd,CAHL,CAIP;;AAJO,GAP4B;AAarCK,EAAAA,KAAK,EAAE;AACLR,IAAAA,QAAQ,EAAE,CADL;AAELS,IAAAA,SAAS,EAAE,UAFN;AAGLC,IAAAA,WAAW,EAAE;AAHR,GAb8B;AAkBrCC,EAAAA,KAAK,EAAE;AACLC,IAAAA,OAAO,EAAEd,KAAK,CAACK,OAAN,CAAc,CAAd,CADJ;AAELU,IAAAA,KAAK,EAAEf,KAAK,CAACgB,OAAN,CAAcC,IAAd,CAAmBC,SAFrB;AAGLC,IAAAA,OAAO,EAAE,MAHJ;AAILC,IAAAA,YAAY,EAAE,eAJT;AAKLZ,IAAAA,UAAU,EAAE;AALP;AAlB8B,CAAZ,CAAD,CAA5B;;AA8BA,SAASa,QAAT,CAAkBC,KAAlB,EAAyB;AACvB,QAAMC,OAAO,GAAGxB,SAAS,EAAzB;AACA,QAAM,CAACyB,KAAD,EAAQC,QAAR,IAAoB5D,KAAK,CAAC6D,QAAN,CAAe,CAAf,CAA1B;AACA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkB/D,KAAK,CAAC6D,QAAN,CAAe,KAAf,CAAxB;AACA,QAAM,CAACG,IAAD,EAAOC,OAAP,IAAkBjE,KAAK,CAAC6D,QAAN,CAAe,EAAf,CAAxB;AACA,QAAM,CAACK,MAAD,EAASC,SAAT,IAAsBnE,KAAK,CAAC6D,QAAN,CAAe,EAAf,CAA5B;AACA,MAAIO,OAAO,GAAGnC,UAAU,EAAxB;AAEA,QAAM,CAACoC,WAAD,EAAcC,cAAd,IAAgCtE,KAAK,CAAC6D,QAAN,CAAe,EAAf,CAAtC;AACA,QAAM,CAACU,WAAD,EAAcC,cAAd,IAAgCxE,KAAK,CAAC6D,QAAN,CAAe,KAAf,CAAtC;AAEA7D,EAAAA,KAAK,CAACyE,SAAN,CAAgB,MAAI;AAClBR,IAAAA,OAAO,CAACjC,IAAI,CAAC0C,cAAN,CAAP;AACH,GAFC,EAEC,EAFD;;AAIA,QAAMC,eAAe,GAAG,MAAI;AAC1BC,IAAAA,SAAS,CAACC,SAAV,CAAoBC,SAApB,CAA8BC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GAAyB,KAAzB,GAAiCZ,WAAW,CAACa,GAA3E;AACAC,IAAAA,kBAAkB;AAClBC,IAAAA,WAAW;AACZ,GAJD;;AAKC,QAAMC,SAAS,GAAG,MAAM;AACvBjB,IAAAA,OAAO,CAACkB,IAAR,CAAa,GAAb;AACD,GAFA;;AAID,QAAMH,kBAAkB,GAAG,MAAM;AAC/BX,IAAAA,cAAc,CAAC,IAAD,CAAd;AACD,GAFD;;AAIA,QAAMe,kBAAkB,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAC5C,QAAIA,MAAM,KAAK,WAAf,EAA4B;AAC1B;AACD;;AAEDjB,IAAAA,cAAc,CAAC,KAAD,CAAd;AACD,GAND;;AASA,WAASkB,QAAT,GAAmB;AACjBC,IAAAA,eAAe;AAChB;;AAED,QAAMC,YAAY,GAAG,CAACJ,KAAD,EAAQK,QAAR,KAAqB;AACxCjC,IAAAA,QAAQ,CAACiC,QAAD,CAAR;AACD,GAFD;;AAIA,QAAMF,eAAe,GAAG,MAAM;AAC5B5B,IAAAA,OAAO,CAAC,IAAD,CAAP;AACD,GAFD;;AAIA,QAAMqB,WAAW,GAAG,MAAM;AACxBrB,IAAAA,OAAO,CAAC,KAAD,CAAP;AACD,GAFD;;AAKE/D,EAAAA,KAAK,CAACyE,SAAN,CAAgB,MAAM;AAClB,QAAIqB,MAAM,GAAGrC,KAAK,CAACsC,KAAN,CAAYC,MAAZ,CAAmBF,MAAhC;;AACA,QAAGA,MAAM,KAAKG,SAAd,EAAwB;AACtB9B,MAAAA,SAAS,CAAC2B,MAAD,CAAT;AACA/D,MAAAA,WAAW,CAACmE,OAAZ,CAAoBJ,MAApB,EACCK,IADD,CACOC,IAAD,IAAU;AACb;AACC9B,QAAAA,cAAc,CAAC8B,IAAD,CAAd;AACA,OAJJ,EAKGC,KAAK,IAAI;AACT,cAAMC,UAAU,GACXD,KAAK,CAACE,QAAN,IACDF,KAAK,CAACE,QAAN,CAAeH,IADd,IAEDC,KAAK,CAACE,QAAN,CAAeH,IAAf,CAAoBI,OAFpB,IAGAH,KAAK,CAACG,OAHN,IAIAH,KAAK,CAACI,QAAN,EALJ;AAMIC,QAAAA,OAAO,CAACC,GAAR,CAAYL,UAAZ;AACH,OAbJ;AAeD;AACJ,GApBD,EAoBE,CAAC7C,KAAK,CAACsC,KAAN,CAAYC,MAAZ,CAAmBF,MAApB,CApBF;AAuBA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACIzB,WAAW,CAACuC,SAAZ,KAA0B5C,IAAI,CAAC6C,EAA/B,gBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAK,IAAA,SAAS,EAAEnD,OAAO,CAACtB,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AAAQ,IAAA,QAAQ,EAAC,QAAjB;AAA0B,IAAA,KAAK,EAAE;AAAC0E,MAAAA,eAAe,EAAE;AAAlB,KAAjC;AAA6D,IAAA,SAAS,EAAE,CAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,OAAD;AAAS,IAAA,SAAS,EAAEpD,OAAO,CAACjB,OAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,UAAD;AACI,IAAA,IAAI,EAAC,OADT;AAEI,IAAA,SAAS,EAAEiB,OAAO,CAACpB,UAFvB;AAGI,kBAAW,KAHf;AAII,IAAA,KAAK,EAAE;AAACY,MAAAA,KAAK,EAAE;AAAR,KAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAOI,oBAAC,YAAD;AAAc,IAAA,OAAO,EAAE0C,YAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPJ,CADA,eAUA,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAC,IAApB;AAAyB,IAAA,MAAM,MAA/B;AAAgC,IAAA,KAAK,EAAE;AAACmB,MAAAA,SAAS,EAAE,OAAZ;AAAqB7D,MAAAA,KAAK,EAAC;AAA3B,KAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKmB,WAAW,CAAC2C,IADjB,CAVA,eAkBA,oBAAC,IAAD;AACA,IAAA,SAAS,EAAEtD,OAAO,CAACb,KADnB;AAEA,IAAA,KAAK,EAAEc,KAFP;AAGA,IAAA,QAAQ,EAAEiC,YAHV;AAIA,IAAA,cAAc,EAAC,SAJf;AAKA,IAAA,SAAS,EAAC,SALV;AAMA,IAAA,QAAQ,MANR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAQA,oBAAC,GAAD;AAAK,IAAA,KAAK,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARA,eASA,oBAAC,GAAD;AAAK,IAAA,KAAK,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATA,CAlBA,eA8BA,oBAAC,UAAD;AAAY,kBAAW,QAAvB;AAAgC,IAAA,OAAO,EAAEF,QAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CA9BA,CADJ,CADJ,CADA,eA0CA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,MAAD;AACE,IAAA,IAAI,EAAE5B,IADR;AAEE,IAAA,OAAO,EAAEsB,WAFX;AAGE,uBAAgB,oBAHlB;AAIE,wBAAiB,0BAJnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAOE,oBAAC,WAAD;AAAa,IAAA,EAAE,EAAC,oBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAsC,sBAAtC,CAPF,eAQE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,KAAD;AAAO,IAAA,SAAS,EAAE1B,OAAO,CAACV,KAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAgB,IAAA,YAAY,EAAC,eAA7B;AAA6C,IAAA,UAAU,EAAC,QAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAC,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA6B+B,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GAAyB,KAAzB,GAAiCZ,WAAW,CAACa,GAA1E,CADJ,CADJ,eAII,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,UAAD;AAAY,IAAA,SAAS,EAAExB,OAAO,CAACuD,MAA/B;AAAuC,kBAAW,KAAlD;AAAwD,IAAA,IAAI,EAAC,QAA7D;AAAsE,IAAA,OAAO,EAAEtC,eAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAiG,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAjG,CADJ,CAJJ,CADJ,CADA,eAmBE,oBAAC,iBAAD;AAAmB,IAAA,EAAE,EAAC,0BAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAnBF,CARF,eA+BE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAES,WAAjB;AAA8B,IAAA,KAAK,EAAC,SAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,CA/BF,CADA,eAuCA,oBAAC,QAAD;AACE,IAAA,YAAY,EAAE;AACZ8B,MAAAA,QAAQ,EAAE,QADE;AAEZC,MAAAA,UAAU,EAAE;AAFA,KADhB;AAKE,IAAA,IAAI,EAAE5C,WALR;AAME,IAAA,gBAAgB,EAAE,IANpB;AAOE,IAAA,OAAO,EAAEgB,kBAPX;AAQE,IAAA,OAAO,EAAC,qBARV;AASE,IAAA,MAAM,eACJ,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEE,oBAAC,UAAD;AAAY,MAAA,IAAI,EAAC,OAAjB;AAAyB,oBAAW,OAApC;AAA4C,MAAA,KAAK,EAAC,SAAlD;AAA4D,MAAA,OAAO,EAAEA,kBAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,SAAD;AAAW,MAAA,QAAQ,EAAC,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAFF,CAVJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAvCA,CA1CA,eAqGJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAE5B,KAAjB;AAAwB,IAAA,KAAK,EAAE,CAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,YAAD;AAAc,IAAA,QAAQ,EAAEU,WAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,eAII,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAEV,KAAjB;AAAwB,IAAA,KAAK,EAAE,CAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,WAAD;AAAa,IAAA,QAAQ,EAAEU,WAAvB;AAAoC,IAAA,MAAM,EAAEH,MAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAJJ,CArGI,CADA,gBAgHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAjHJ,CADJ;AAsHH;;AAED,eAAeV,QAAf;;AAEA,SAAS4D,QAAT,CAAkB3D,KAAlB,EAAyB;AACrB,QAAM;AAAE4D,IAAAA,QAAF;AAAY1D,IAAAA,KAAZ;AAAmB2D,IAAAA,KAAnB;AAA0B,OAAGC;AAA7B,MAAuC9D,KAA7C;AAEA,sBACE;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,MAAM,EAAEE,KAAK,KAAK2D,KAFpB;AAGE,IAAA,EAAE,EAAG,mBAAkBA,KAAM,EAH/B;AAIE,uBAAkB,cAAaA,KAAM;AAJvC,KAKMC,KALN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAOG5D,KAAK,KAAK2D,KAAV,iBACC,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAMD,QAAN,CADF,CARJ,CADF;AAeD;;AAEDD,QAAQ,CAACI,SAAT,GAAqB;AACnBH,EAAAA,QAAQ,EAAEpH,SAAS,CAACwH,IADD;AAEnBH,EAAAA,KAAK,EAAErH,SAAS,CAACyH,GAAV,CAAcC,UAFF;AAGnBhE,EAAAA,KAAK,EAAE1D,SAAS,CAACyH,GAAV,CAAcC;AAHF,CAArB,C,CAOA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {Grid} from '@material-ui/core';\r\n\r\nimport { Paper, Typography } from '@material-ui/core';\r\n\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Box from '@material-ui/core/Box';\r\n\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport MoreIcon from '@material-ui/icons/MoreVert';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport VisibilityIcon from '@material-ui/icons/Visibility';\r\nimport PaletteIcon from '@material-ui/icons/Palette';\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\nimport SendIcon from '@material-ui/icons/Send';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport FilterNoneIcon from '@material-ui/icons/FilterNone';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\r\n\r\nimport ViewListIcon from '@material-ui/icons/ViewList';\r\n\r\nimport QuestionsTab from './QuestionsTab';\r\nimport ResponseTab from '../Response/ResponseTab';\r\nimport formService from '../../services/formService';\r\nimport auth from '../../services/authService';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      flexGrow: 1,\r\n    },\r\n    menuButton: {\r\n      marginRight: theme.spacing(2),\r\n    },\r\n    toolbar: {\r\n      minHeight: 128,\r\n      alignItems: 'flex-start',\r\n      paddingTop: theme.spacing(1),\r\n      //paddingBottom: theme.spacing(2),\r\n    },\r\n    title: {\r\n      flexGrow: 1,\r\n      alignSelf: 'flex-end',\r\n      justifySelf: 'center'\r\n    },\r\n    paper: {\r\n      padding: theme.spacing(2),\r\n      color: theme.palette.text.secondary,\r\n      display: 'flex',\r\n      alignContent: 'space-between',\r\n      alignItems: 'center'\r\n  }\r\n    \r\n  }));\r\n\r\n\r\n\r\nfunction EditForm(props) {\r\n  const classes = useStyles();\r\n  const [value, setValue] = React.useState(0);\r\n  const [open, setOpen] = React.useState(false);\r\n  const [user, setUser] = React.useState({})\r\n  const [formID, setFormID] = React.useState(\"\");\r\n  let history = useHistory();\r\n\r\n  const [formDeatils, setFormDetails] = React.useState({});\r\n  const [openOfAlert, setOpenOfAlert] = React.useState(false);\r\n\r\n  React.useEffect(()=>{\r\n    setUser(auth.getCurrentUser);  \r\n}, [])\r\n\r\n  const clipToClipboard = ()=>{\r\n    navigator.clipboard.writeText(window.location.origin + \"/s/\" + formDeatils._id)\r\n    handleClickOfAlert();\r\n    handleClose();\r\n  }\r\n   const handletmp = () => {\r\n    history.push(\"/\");\r\n  };\r\n\r\n  const handleClickOfAlert = () => {\r\n    setOpenOfAlert(true);\r\n  };\r\n\r\n  const handleCloseOfAlert = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n\r\n    setOpenOfAlert(false);\r\n  };\r\n\r\n\r\n  function sendForm(){\r\n    handleClickOpen(); \r\n  }\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n\r\n    React.useEffect(() => {\r\n        var formId = props.match.params.formId\r\n        if(formId !== undefined){\r\n          setFormID(formId)\r\n          formService.getForm(formId)\r\n          .then((data) => { \r\n             // console.log(data);     \r\n              setFormDetails(data)       \r\n             },\r\n             error => {\r\n             const resMessage =\r\n                 (error.response &&\r\n                 error.response.data &&\r\n                 error.response.data.message) ||\r\n                 error.message ||\r\n                 error.toString();\r\n                 console.log(resMessage);\r\n             }\r\n         );\r\n        }\r\n    },[props.match.params.formId]);\r\n\r\n\r\n    return (\r\n        <div>\r\n          { formDeatils.createdBy === user.id ? (\r\n            <div>\r\n            <div className={classes.root}>\r\n                <AppBar position=\"static\" style={{backgroundColor: 'white'}} elevation={2}>\r\n                    <Toolbar className={classes.toolbar}>\r\n                    <IconButton\r\n                        edge=\"start\"\r\n                        className={classes.menuButton}\r\n                        aria-label=\"tmp\"\r\n                        style={{color: '#140078'}}\r\n                        \r\n                    >\r\n                        <ViewListIcon onClick={handleChange}/>\r\n                    </IconButton>\r\n                    <Typography variant=\"h6\" noWrap style={{marginTop: '8.5px', color:'black'}}>\r\n                        {formDeatils.name}\r\n                    </Typography>\r\n                    \r\n\r\n                   \r\n                    \r\n\r\n                    <Tabs\r\n                    className={classes.title}\r\n                    value={value}\r\n                    onChange={handleChange}\r\n                    indicatorColor=\"primary\"\r\n                    textColor=\"primary\"\r\n                    centered\r\n                >\r\n                    <Tab label=\"Questions\" />\r\n                    <Tab label=\"Responses\" />\r\n                </Tabs>\r\n\r\n                    <IconButton aria-label=\"search\" onClick={sendForm}>\r\n                        <SendIcon />\r\n                    </IconButton>\r\n                \r\n                   \r\n                  \r\n                    </Toolbar>\r\n                </AppBar>\r\n            </div>\r\n            <div>\r\n            <Dialog\r\n              open={open}\r\n              onClose={handleClose}\r\n              aria-labelledby=\"alert-dialog-title\"\r\n              aria-describedby=\"alert-dialog-description\"\r\n              \r\n            >\r\n              <DialogTitle id=\"alert-dialog-title\">{\"Copy and share link.\"}</DialogTitle>\r\n              <DialogContent>\r\n              <Paper className={classes.paper}>\r\n                  <Grid container alignContent=\"space-between\" alignItems=\"center\">\r\n                      <Grid item>\r\n                          <Typography variant=\"body1\">{window.location.origin + \"/s/\" + formDeatils._id}</Typography>\r\n                      </Grid>\r\n                      <Grid item>\r\n                          <IconButton className={classes.button} aria-label=\"Add\" size=\"medium\" onClick={clipToClipboard} ><FilterNoneIcon /></IconButton>\r\n                      </Grid>\r\n                  </Grid>\r\n              </Paper>\r\n                  {/* <div style={{padding: '7px', display: 'flex'}}>\r\n                  <Typography variant=\"body1\">{window.location.origin + \"/s/\" + formDeatils._id}</Typography>\r\n                    \r\n                  <IconButton onClick={() =>  navigator.clipboard.writeText(window.location.origin + \"/s/\" + formDeatils._id)}  >\r\n                    <MoreIcon />\r\n                  </IconButton>\r\n                  </div> */}\r\n                  \r\n                <DialogContentText id=\"alert-dialog-description\">\r\n                  \r\n                </DialogContentText>\r\n              </DialogContent>\r\n              <DialogActions>\r\n                <Button onClick={handleClose} color=\"primary\">\r\n                   Cancel\r\n                </Button>\r\n                \r\n              </DialogActions>\r\n            </Dialog>\r\n            <Snackbar\r\n              anchorOrigin={{\r\n                vertical: 'bottom',\r\n                horizontal: 'left',\r\n              }}\r\n              open={openOfAlert}\r\n              autoHideDuration={3000}\r\n              onClose={handleCloseOfAlert}\r\n              message=\"Copied to clipboard\"\r\n              action={\r\n                <React.Fragment>\r\n                 \r\n                  <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handleCloseOfAlert}>\r\n                    <CloseIcon fontSize=\"small\" />\r\n                  </IconButton>\r\n                </React.Fragment>\r\n              }\r\n            />\r\n            </div>\r\n\r\n        <div>\r\n            <TabPanel value={value} index={0}>\r\n                <QuestionsTab formData={formDeatils} />\r\n            </TabPanel>\r\n            <TabPanel value={value} index={1}>\r\n                <ResponseTab formData={formDeatils} formId={formID} />\r\n            </TabPanel>\r\n        </div>\r\n        </div>\r\n          ) : (\r\n            <p>you're not the owner of the form</p>\r\n          )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default EditForm;\r\n\r\nfunction TabPanel(props) {\r\n    const { children, value, index, ...other } = props;\r\n  \r\n    return (\r\n      <div\r\n        role=\"tabpanel\"\r\n        hidden={value !== index}\r\n        id={`simple-tabpanel-${index}`}\r\n        aria-labelledby={`simple-tab-${index}`}\r\n        {...other}\r\n      >\r\n        {value === index && (\r\n          <Box>\r\n            <div>{children}</div>\r\n          </Box>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  TabPanel.propTypes = {\r\n    children: PropTypes.node,\r\n    index: PropTypes.any.isRequired,\r\n    value: PropTypes.any.isRequired,\r\n  };\r\n\r\n\r\n  // function a11yProps(index) {\r\n  //   return {\r\n  //     id: `simple-tab-${index}`,\r\n  //     'aria-controls': `simple-tabpanel-${index}`,\r\n  //   };\r\n  // }\r\n  \r\n"]},"metadata":{},"sourceType":"module"}